<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Basics Initiative</title>
	<link rel="shortcut icon" href="favicon.ico">
	<!-- Bootstrap 4.5 CSS -->
	<link rel="stylesheet" href="bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/solid.css">
	
	<!-- Style CSS -->
	<link rel="stylesheet" href="style.css">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,600,700&display=swap" rel="stylesheet">
</head>
<body class="SignUpBody">
<nav class="navbar bg-light navbar-light navbar-expand-lg ">
	<div class="container">
		<a href="index.html" class="navbar-brand">Basics Initiative</a>

		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarResponsive">
			<ul class="navbar-nav ml-auto">
				<li class="nav-item">
					<a href="index.html" class="nav-link">Home</a>
				</li>
				<li class="nav-item">
					<a href="about.html" class="nav-link">About Us</a>
				</li>
				
				<li class="nav-item">
					<a href="samplevideo.html" class="nav-link">Recipes</a>
				</li>
				<li class="nav-item">
					<a href="classes.html" class="nav-link">Classes</a>
				</li>
				<li class="nav-item">
					<a href="calendar.html" class="nav-link">Calendar</a>
				</li>
			</ul>

		</div>
	</div>
</nav>
<section class="Form my-4 mx-5">
	<div class="container">
		<div class="row SignUpContent no-gutters">
			
			<div class="col-lg-5 pt-5 pl-5">
				<h1 class="font-weigh-bold py-3">Sign Up Now!</h1>
				<form>
					<div class="form-row">
						<div class="col-lg-10">
							<input type="Name" placeholder="Name" class="form-control my-3 p-4" id="name-input">
						</div>
					</div>
					<div class="form-row">
						<div class="col-lg-10">
							<input type="phone" placeholder="Phone Number (i.e 9161234567)" class="form-control my-3 p-4" id="phone-input">
						</div>
					</div>
					<div class="form-row">
						<div class="col-lg-10">
							<input type="email" placeholder="Email-Address" class="form-control my-3 p-4" id="email-input">
						</div>
					</div>
					
					<div class="form-col">
						<div class="form-check py-2">
							<input type="checkbox" name="date-1" class="form-check-input" id="class-date-1" value="October 10">
							<label class="form-check-label" for="class-date-1">October 10</label>
						</div>
						<div class="form-check py-2">
							<input type="checkbox" name="date-2" class="form-check-input" id="class-date-2" value="October 17">
							<label class="form-check-label" for="class-date-2">October 17</label>
						</div>
						<div class="form-check py-2">
							<input type="checkbox" name="date-3" class="form-check-input" id="class-date-3" value="October 24">
							<label class="form-check-label" for="class-date-3">October 24</label>
						</div>

					</div>
					
					<!----sign up button ---->
					<div class="form-row">
						<div class="col-lg-10">
							<button type="button" class="btn-1 my-4 p-4 SignUpButton" onclick="writeToTable()">Sign Up</button>
						</div>
					</div>
					
				</form>

				
			</div>
			<div class="col-lg-7">
				<img src="img/SignUpPic.jpg" class="img-fluid SignUpImg">
			</div>
		</div>
	</div>
</section>
<script type="text/javascript">
	function writeToTable(){
		const URL = "https://nm4fvzi64a.execute-api.us-west-2.amazonaws.com/prod/signuplambda";
				  		//data validation
				  		var Namere = /[A-Za-z]{1}[A-Za-z]/;
				            if (!Namere.test($("#name-input").val())) {
				                         alert ("Name can not less than 2 char");
				                return;
				            }
		            	var mobilere = /[0-9]{10}/;
				            if (!mobilere.test($("#phone-input").val())) {
				                alert ("Please enter a valid mobile number");
				                return;
				            }
				        let name = $("#name-input").val();
				        let phone = $("#phone-input").val();
				        let email = $("#email-input").val();
				        if (document.getElementById('class-date-1').checked) {
				        	date = $("#class-date-1").val();
				        }
				        else if (document.getElementById('class-date-2').checked) {
				        	date = $("#class-date-2").val();
				        }
				        else if (document.getElementById('class-date-3').checked) {
				        	date = $("#class-date-3").val();
				        } 
				        //checks for classes
				       
				        let data = {
				        	name: name,
				        	phone: phone,
				        	email: email,
				        	date: date
				        	
				        };
				        $.ajax({
		            		type:"POST",
		            		url: "https://nm4fvzi64a.execute-api.us-west-2.amazonaws.com/prod/signuplambda",
		            		dataType: "json",
		            		crossDomain: "true",
		            		contentType: "application/json; charset=utf-8",
		            		data: JSON.stringify(data),


		            		success: function() {
		            			alert("Successful");
		            			
		            			
		            		},
		            		error: function() {
								//alert("unsuccessful")
							}

		            	});
				        
	}
</script>

		




<script src="js/jquery-3.5.1.min.js"></script>
	<!-- Bootstrap 4.5 JS -->
	<script src="js/bootstrap.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
	<!-- Popper JS -->
	<script src="js/popper.min.js"></script>
	<!-- Font Awesome -->
	<script src="js/all.min.js"></script>

</body>
</html>